# æ‰¹é‡å¯¼å‡ºä¿®å¤æ€»ç»“

## ğŸ¯ é—®é¢˜è§£å†³

### åŸå§‹é—®é¢˜
1. **æŸ¥è¯¢èŒƒå›´è¿‡å¹¿** - æ‰¾åˆ°2888ä¸ªæ–‡ä»¶ï¼ŒåŒ…æ‹¬ç¼–è¾‘å™¨å†…ç½®èµ„æº
2. **èµ„æºåŠ è½½å¤±è´¥** - cc.loaderåŠ è½½ç¼–è¾‘å™¨å†…ç½®èµ„æºæ—¶å‡ºé”™
3. **APIå…¼å®¹æ€§** - Cocos Creator 2.4+ä½¿ç”¨æ–°çš„AssetManager API

### ä¿®å¤å†…å®¹

#### 1. ç²¾ç¡®é¡¹ç›®èµ„æºè¿‡æ»¤ âœ…
```javascript
// åªæŸ¥è¯¢é¡¹ç›®assetsç›®å½•
let projectAssetsPattern = 'db://assets/**/*';

// è¿‡æ»¤æ‰ç¼–è¾‘å™¨å†…ç½®èµ„æº
let filteredProjectResults = [];
for (let result of projectResults) {
    if (result.path && result.path.startsWith('assets/') && 
        !result.path.includes('default-assets') && 
        !result.path.includes('internal')) {
        filteredProjectResults.push(result);
    }
}
```

#### 2. åŒAPIå…¼å®¹æ€§æ”¯æŒ âœ…
```javascript
// ä¼˜å…ˆä½¿ç”¨æ–°çš„AssetManager API (CC 2.4+)
if (cc.assetManager && cc.assetManager.loadAny) {
    self.loadWithAssetManager(prefabUuid, ...);
} else if (cc.loader) {
    // å›é€€åˆ°æ—§çš„cc.loader API (CC 1.x/2.x)
    self.loadWithLegacyLoader(prefabUuid, ...);
}
```

#### 3. å¢å¼ºé”™è¯¯å¤„ç† âœ…
- éªŒè¯prefab UUIDæœ‰æ•ˆæ€§
- å®ä¾‹åŒ–å¤±è´¥æ—¶çš„é”™è¯¯å¤„ç†
- åˆ†é˜¶æ®µé”™è¯¯æŠ¥å‘Šï¼ˆåŠ è½½ã€å®ä¾‹åŒ–ã€è½¬æ¢ã€å†™å…¥ï¼‰
- è·³è¿‡æ— æ•ˆèµ„æºçš„è®¡æ•°

#### 4. æ™ºèƒ½èµ„æºè¿‡æ»¤ âœ…
```javascript
// åœ¨å¤„ç†é˜¶æ®µå†æ¬¡è¿‡æ»¤
let projectPrefabs = results.filter(result => {
    let path = result.path.toLowerCase();
    let isBuiltIn = path.includes('default-assets') || 
                   path.includes('internal') || 
                   path.includes('creator/') || 
                   path.includes('programdata/');
    return !isBuiltIn;
});
```

## ğŸ“Š é¢„æœŸç»“æœ

### ç°åœ¨çš„å·¥ä½œæµç¨‹
1. **APIæµ‹è¯•** - æ˜¾ç¤ºå¯ç”¨çš„èµ„æºåŠ è½½API
2. **ç²¾ç¡®æŸ¥è¯¢** - åªæŸ¥è¯¢`db://assets/**/*`èŒƒå›´å†…çš„prefab
3. **æ™ºèƒ½è¿‡æ»¤** - è‡ªåŠ¨è¿‡æ»¤æ‰ç¼–è¾‘å™¨å†…ç½®èµ„æº
4. **å…¼å®¹åŠ è½½** - æ ¹æ®CCç‰ˆæœ¬é€‰æ‹©åˆé€‚çš„åŠ è½½API
5. **è¯¦ç»†æŠ¥å‘Š** - æ˜¾ç¤ºæˆåŠŸ/å¤±è´¥/è·³è¿‡çš„æ•°é‡

### æ—¥å¿—ç¤ºä¾‹
```
=== APIå¯ç”¨æ€§æµ‹è¯• ===
Editor.assetdb å¯ç”¨: æ˜¯
cc.assetManager å¯ç”¨: æ˜¯
=== APIæµ‹è¯•å®Œæˆ ===
é¡¹ç›®èµ„æºæŸ¥è¯¢æ‰¾åˆ° 145 ä¸ªprefabæ–‡ä»¶
è¿‡æ»¤åé¡¹ç›®prefabæ•°é‡: 89
è¿‡æ»¤åæ‰¾åˆ° 89 ä¸ªé¡¹ç›®Prefabæ–‡ä»¶ï¼Œå¼€å§‹æ‰¹é‡å¯¼å‡º...
å·²è¿‡æ»¤æ‰ 56 ä¸ªç¼–è¾‘å™¨å†…ç½®prefab
å³å°†å¤„ç†çš„prefabç¤ºä¾‹:
  1. assets/ui/res/ccsFiles/login.prefab
  2. assets/ui/res/ccsFiles/main.prefab
  ... è¿˜æœ‰ 87 ä¸ªprefab
ä½¿ç”¨AssetManageråŠ è½½èµ„æº: a8b5c3d7...
å¯¼å‡ºå®Œæˆ: login.json
æ‰¹é‡å¯¼å‡ºå®Œæˆï¼
æˆåŠŸ: 89ä¸ª
å¤±è´¥: 0ä¸ª
è·³è¿‡: 0ä¸ª
```

## ğŸš€ ç«‹å³æµ‹è¯•

è¯·ç°åœ¨é‡æ–°æµ‹è¯•æ‰¹é‡å¯¼å‡ºåŠŸèƒ½ï¼š

1. **é‡å¯Cocos Creator**
2. **é‡æ–°æ‰“å¼€æ’ä»¶**
3. **é€‰æ‹©`db://assets`ç›®å½•**
4. **å‹¾é€‰"åŒ…å«å­æ–‡ä»¶å¤¹"**
5. **ç‚¹å‡»"æ‰¹é‡å¯¼å‡º"**

åº”è¯¥çœ‹åˆ°ï¼š
- APIå¯ç”¨æ€§æµ‹è¯•ç»“æœ
- è¿‡æ»¤å‰åçš„prefabæ•°é‡å¯¹æ¯”
- åªå¤„ç†é¡¹ç›®å†…çš„prefabæ–‡ä»¶ï¼ˆä¸å†æ˜¯2888ä¸ªï¼‰
- æ›´é«˜çš„æˆåŠŸç‡å’Œæ›´å°‘çš„åŠ è½½é”™è¯¯

å¦‚æœä»æœ‰é—®é¢˜ï¼Œè¯·æä¾›æ–°çš„æ—¥å¿—è¾“å‡ºï¼
